!function(o){function e(s,t){var r=s.find(".pa-woo-mc__outer-container").data("settings");if(r){t("html").addClass("msection-html");var e,a,n,i=t("body .premium-magic-section-body-inner"),c=r.trigger,p=!0,_=r.type,m=s.data("id"),d=r.style;t(".premium-magic-section-body-inner").length<1&&t("body").wrapInner('<div class="premium-magic-section-body-inner" />'),t(".premium-magic-section-body-inner > .pa-woo-mc__overlay-"+m).remove(),t(".premium-magic-section-body-inner").prepend(s.find(".pa-woo-mc__overlay")),s.find(".pa-woo-mc__inner-container").off("click.paToggleMiniCart mouseenter.paToggleMiniCart mouseleave.paToggleMiniCart"),function(o){o=o||500;t("body").addClass("animating"),i.css("transform","none"),t("html").css("height","auto"),setTimeout(function(){t("html").removeClass("offcanvas-open"),t("body").removeClass("animating")},o)}(10),function(){"click"===c?s.find(".pa-woo-mc__inner-container").on("click.paToggleMiniCart",o):(s.find(".pa-woo-mc__inner-container").on("mouseenter.paToggleMiniCart",o),s.on("mouseleave.paToggleMiniCart",function(o){e=setTimeout(function(){s.find(".pa-woo-mc__content-wrapper-"+m).removeClass("pa-woo-mc__open")},300)}));s.find(".pa-woo-mc__remove-all-btn").on("click.paConfirm",function(){t(this).hide(),s.find(".pa-woo-mc__empty-mc-confirm").css("display","flex")}),s.find(".pa-woo-mc__confirm-btn").on("click.paEmptyMC",function(){t(this).hasClass("pa-empty-mc")&&f("pa_delete_cart_items",!1,!1),s.find(".pa-woo-mc__remove-all-btn").show(),s.find(".pa-woo-mc__empty-mc-confirm").hide()}),s.find(".pa-woo-mc__coupon-submit").on("click",function(){var o=s.find(".pa-woo-mc__coupon-field").val();o&&f("pa_apply_coupon",!1,o)}),r.clickOutside&&t("body").on("click",function(o){t(o.target).is(t(".premium-tabs-nav-list-item, .pa-woo-mc__content-wrapper, .pa-woo-mc__content-wrapper *, .pa-woo-mc__inner-container, .pa-woo-mc__inner-container *"))||("menu"===_?s.find(".pa-woo-mc__content-wrapper-"+m).removeClass("pa-woo-mc__open"):p||s.find(".pa-woo-mc__close-button").trigger("click"))});s.find(".pa-woo-mc__close-button").on("click",function(){t(".pa-woo-mc__overlay-"+m).addClass("premium-addons__v-hidden"),s.find(".pa-woo-mc__content-wrapper-"+m).addClass("pa-woo-mc__anim-"+d),setTimeout(function(){p=!0,s.find(".pa-woo-mc__content-wrapper-"+m).css("display","none")},500)}),r.coupon&&s.find(".pa-woo-mc__coupon-toggler").click(function(){s.find(".pa-woo-mc__coupon-wrapper").is(":visible")?s.find(".pa-woo-mc__coupon-wrapper").slideUp():s.find(".pa-woo-mc__coupon-wrapper").slideDown()})}(),w(),u(),function(){if(!s.hasClass("premium-mc-counting-yes"))return;s.find(".pa-woo-mc__badge.pa-counting .odometer-wrapper").length&&(a=new Odometer({el:s.find(".pa-woo-mc__badge.pa-counting .odometer-wrapper")[0],value:s.find(".pa-woo-mc__count-placeholder").text(),format:"(,ddd).dd"}));s.find(".pa-woo-mc__subtotal.pa-counting .pa-woo-mc__subtotal-val").length&&(n=new Odometer({el:s.find(".pa-woo-mc__subtotal.pa-counting .pa-woo-mc__subtotal-val")[0],value:s.find(".pa-woo-mc__text-wrapper .pa-woo-mc__subtotal-placeholder").text(),format:"(,ddd).dd"}))}(),r.crossSells&&setTimeout(function(){l()},0),t(document.body).on("wc_fragments_loaded wc_fragments_refreshed",function(o){t(".pa-woo-mc__content-wrapper-"+m+" .pa-woo-mc__empty-msg").length?t(".pa-woo-mc__content-wrapper-"+m).addClass("pa-hide-content"):t(".pa-woo-mc__content-wrapper-"+m).removeClass("pa-hide-content"),w(),u(),r.crossSells&&setTimeout(function(){l()},0),s.hasClass("premium-mc-counting-yes")&&setTimeout(function(){var o=s.find(".pa-woo-mc__count-placeholder").text(),e=s.find(".pa-woo-mc__text-wrapper .pa-woo-mc__subtotal-placeholder").text();s.find(".pa-woo-mc__badge.pa-counting").length&&a.update(o),s.find(".pa-woo-mc__subtotal.pa-counting .pa-woo-mc__subtotal-val").length&&n.update(e)},0)})}function l(){s.find(".pa-woo-mc__cross-sells").slick({infinite:!0,draggable:!0,pauseOnHover:!0,arrows:!1,slidesToShow:r.slidesToShow||3,slidesToScroll:r.slidesToScroll||1,speed:r.speed||1e3,autoplay:r.autoplay,autoplaySpeed:r.autoplaySpeed||5e3}),s.find(".pa-woo-mc__cross-sells-arrows a").on("click.paCrossSellsNav",function(){t(this).hasClass("prev-arrow")?s.find(".pa-woo-mc__cross-sells").slick("slickPrev"):t(this).hasClass("next-arrow")&&s.find(".pa-woo-mc__cross-sells").slick("slickNext")}),1<s.find(".pa-woo-mc__cross-sells .pa-woo-mc__cross-sell-product").length?s.find(".pa-woo-mc__cross-sells-arrows").css({visibility:"inherit",opacity:"1"}):s.find(".pa-woo-mc__cross-sells-arrows").css({visibility:"hidden",opacity:"0"})}function o(o){"hover"===c?(o.stopPropagation(),clearTimeout(e),s.find(".pa-woo-mc__content-wrapper-"+m).removeClass("premium-addons__v-hidden").addClass("pa-woo-mc__open")):"menu"===_?s.find(".pa-woo-mc__content-wrapper-"+m).removeClass("premium-addons__v-hidden").toggleClass("pa-woo-mc__open"):p&&(s.find(".pa-woo-mc__content-wrapper-"+m).css("display","flex"),t("html").css({height:"100%"}),t("html").addClass("offcanvas-open"),t(".pa-woo-mc__overlay-"+m).removeClass("premium-addons__v-hidden"),s.find(".pa-woo-mc__content-wrapper-"+m).removeClass("premium-addons__v-hidden"),s.find(".pa-woo-mc__content-wrapper-"+m).removeClass("pa-woo-mc__anim-"+d),setTimeout(function(){p=!1},550)),0<s.find(".slick-slider").length&&s.find(".pa-woo-mc__cross-sells").slick("setPosition")}function u(){var o=s.find("div[data-pa-count-txt]").data("pa-count-txt");if(o){var e=s.find(".pa-woo-mc__cart-count").text();if(s.hasClass("pa-woo-mc__layout-3"))s.find(".pa-woo-mc__cart-header .pa-woo-mc__cart-count").text(e+" "+o);else if(o.includes("{{count}}")){var a=o.replace("{{count}}",'<span class="pa-woo-mc__cart-count">'+e+"</span>");s.find(".pa-woo-mc__cart-footer .pa-woo-mc__subtotal-heading").html(a)}}if(r.removeTxt&&s.find(".pa-woo-mc__remove-item span").text(r.removeTxt),r.crossSellTxt&&s.find(".pa-woo-mc__cross-sells-heading").text(r.crossSellTxt),s.find(".pa-woo-mc__progressbar-wrapper").length){var n=parseFloat(s.find(".pa-woo-mc__progressbar-wrapper .pa-woo-mc__subtotal-placeholder").text()),t=s.find(".pa-woo-mc__progressbar-wrapper").data("pa-progress-txt"),i=parseFloat(s.find(".pa-woo-mc__progressbar-wrapper").data("pa-progress-threshold")),c=parseFloat((n/i*100).toFixed(2)),p=s.find(".pa-woo-mc__progressbar-wrapper").data("pa-progress-complete");s.find(".pa-woo-mc__progressbar").attr("value",c),i<=n&&p?s.find(".pa-woo-mc__progress-heading").html(p):s.find(".pa-woo-mc__progress-heading").html(t)}}function w(){t(".pa-woo-mc__qty-btn").on("click",function(o){o.stopPropagation();var e=t(this).parent().find(".pa-woo-mc__input")[0],a=parseInt(t(e).attr("max")),n=parseInt(t(e).val());t(this).hasClass("plus")?a<=n?t(this).parents(".pa-woo-mc__item-wrapper").find(".pa-woo-mc__item-notice").text(PAWooMCartSettings.stock_msg+a):(e.stepUp(),t(e).trigger("change")):(e.stepDown(),t(e).trigger("change"))}),s.find(".pa-woo-mc__input").on("change",function(){var o=t(this).attr("name").replace("cart-",""),e=t(this).val();"1"===e?t(this).siblings(".pa-woo-mc__qty-btn.minus").addClass("disabled"):t(this).siblings(".pa-woo-mc__qty-btn.minus").removeClass("disabled"),f("pa_update_mc_qty",o,e)}),s.find(".pa-woo-mc__remove-item").on("click.paRemoveCartItem",function(o){o.stopPropagation(),f("pa_delete_cart_item",t(this).data("pa-item-key").replace("cart-",""),!1)}),s.find(".pa-woo-mc__input").on("click",function(o){o.stopPropagation()})}function f(a,o,e){var n={action:a,nonce:PAWooMCartSettings.mini_cart_nonce};"pa_delete_cart_items"!==a&&(n.itemKey=o),"pa_update_mc_qty"===a&&e&&(n.quantity=e),"pa_apply_coupon"===a&&(n.couponCode=e),t.ajax({url:PAWooMCartSettings.ajaxurl,dataType:"JSON",type:"POST",data:n,beforeSend:function(){s.find(".pa-woo-mc__widget-shopping-outer-wrapper").append('<div class="premium-loading-feed"><div class="premium-loader"></div></div>')},success:function(o){if(t(document.body).trigger("wc_fragment_refresh"),"pa_apply_coupon"===a){var e="string"==typeof o.data?o.data:"Coupon was applied successfully.";e.includes("successfully")?s.find(".pa-woo-mc__coupon-notice").removeClass("pa-error-notice").text(e):s.find(".pa-woo-mc__coupon-notice").addClass("pa-error-notice").text(e)}},error:function(o){console.log(o),"pa_apply_coupon"===a&&s.find(".pa-woo-mc__coupon-notice").addClass("pa-error-notice").text(o.data)},complete:function(o){s.find(".premium-loading-feed").remove()}})}}o(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/premium-mini-cart.default",e)})}(jQuery);